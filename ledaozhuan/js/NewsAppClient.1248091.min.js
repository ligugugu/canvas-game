!function(e){function t(t){function a(){U=!0}function n(){return k||U}function o(e,a){if(t(e,!0),U&&a){var n=e.match(/[\w]:\/\/(.*)/);a(n&&n[1])}}function r(e,t){if(x[t]&&x[t].length>0){var a=x[t].shift();a&&a.call(this,e)}}function i(){o(D.updateprofile)}function p(e){x.afterLogin.push(e),o(D.login,e)}function c(e){x.afterUserinfo.push(e),o(D.userinfo,e)}function f(e){x.afterDevice.push(e),o(D.device,e)}function u(e,t){x.afterShare.push(e),o(D.share.replace("{TYPE}",t||""),e)}function m(e){o(D.pushview.replace("{TYPE}",e))}function l(t,a){x.afterEncrypt.push(a),e.extra&&e.extra.__newsapp_encrypt?r(e.extra.__newsapp_encrypt(t),"afterEncrypt"):o(D.encrypt+encodeURIComponent(t),a)}function d(e,t,a){x.afterUploadImage.push(a),o(D.uploadImageByCamera.replace("{W}",e).replace("{H}",t),a)}function _(e,t,a){x.afterUploadImage.push(a),o(D.uploadImageByAlbum.replace("{W}",e).replace("{H}",t),a)}function s(e,t,a){o(D.openComment.replace("{BOARD_ID}",e).replace("{DOC_ID}",t).replace("{TITLE}",a||""))}function h(e){x.afterComment.push(e),o(D.comment,e)}function A(e,t){x.afterOtherappinfo.push(t),o(D.otherappinfo+e,t)}function g(e){o(D.copy+e)}function v(e){o(D.toolbar.replace("{COMMAND}",e))}function w(e){document.title=e||document.title,o(D.modifytitle.replace("{TITLE}",encodeURIComponent(e)))}function b(e,t){x.afterActionbutton.push(t),o(D.actionbutton.replace("{NAME}",encodeURIComponent(e)),t)}function y(t){x.afterAddAlarm.push(t),e.extra&&e.extra.__newsapp_alarm_add_done?r(e.extra.__newsapp_alarm_add_done(),"afterAddAlarm"):o(D.addAlarm,t)}function I(t){x.afterRemoveAlarm.push(t),e.extra&&e.extra.__newsapp_alarm_remove_done?r(e.extra.__newsapp_alarm_remove_done(),"afterRemoveAlarm"):o(D.removeAlarm,t)}function C(t){x.afterCheckAlarm.push(t),e.extra&&e.extra.__newsapp_alarm_check_done?r(e.extra.__newsapp_alarm_check_done(),"afterCheckAlarm"):o(D.checkAlarm,t)}function T(e){x.afterTrashId.push(e),o(D.trashid,e)}function E(e){x.afterLocation.push(e),o(D.location,e)}var x,D,k=/NewsApp/gi.test(navigator.userAgent),L=/Android/gi,U=!1,O=L.test(navigator.platform)||L.test(navigator.userAgent);return x={afterEncrypt:[],afterShare:[],afterUserinfo:[],afterLogin:[],afterDevice:[],afterUploadImage:[],afterComment:[],afterOtherappinfo:[],afterActionbutton:[],afterAddAlarm:[],afterRemoveAlarm:[],afterCheckAlarm:[],afterTrashId:[],afterLocation:[]},D={share:"share://{TYPE}",updateprofile:"updateprofile://",encrypt:"encrypt://",pushview:"pushview://{TYPE}",userinfo:"userinfo://",login:"login://",device:"device://",uploadImageByCamera:"uploadimage://camera/{W}_{H}",uploadImageByAlbum:"uploadimage://album/{W}_{H}",openComment:"newsapp://comment/{BOARD_ID}/{DOC_ID}/{TITLE}",comment:"comment://",otherappinfo:O?"otherappinfo://":"otherappinfo://intent/",copy:"copy://",toolbar:"docmode://toolbar/{COMMAND}",modifytitle:"docmode://modifytitle/{TITLE}",actionbutton:"docmode://actionbutton/{NAME}",addAlarm:"alarm://add",removeAlarm:"alarm://remove",checkAlarm:"alarm://check",trashid:"trashid://",location:"location://current"},e.__newsapp_share_done=function(e){r(e,"afterShare")},e.__newsapp_encrypt_done=function(e){r(e,"afterEncrypt")},e.__newsapp_userinfo_done=function(e){r(e,"afterUserinfo")},e.__newsapp_login_done=function(e){r(e,"afterLogin")},e.__newsapp_device_done=function(e){r(e,"afterDevice")},e.__newsapp_upload_image_done=function(e){r(e,"afterUploadImage")},e.__newsapp_comment_done=function(e){r(e,"afterComment")},e.__newsapp_otherappinfo_done=function(e){r(e,"afterOtherappinfo")},e.__newsapp_browser_actionbutton=function(e){r(e,"afterActionbutton")},e.__newsapp_alarm_add_done=function(e){r(e,"afterAddAlarm")},e.__newsapp_alarm_remove_done=function(e){r(e,"afterRemoveAlarm")},e.__newsapp_alarm_check_done=function(e){r(e,"afterCheckAlarm")},e.__newsapp_trashid_done=function(e){r(e,"afterTrashId")},e.__newsapp_location_done=function(e){r(e,"afterLocation")},{isNewsApp:n,login:p,userInfo:c,device:f,share:u,encrypt:l,updateProfile:i,uploadImageByCamera:d,uploadImageByAlbum:_,pushView:m,openComment:s,comment:h,otherappinfo:A,copy:g,toolbar:v,modifyTitle:w,actionbutton:b,enableDebug:a,addAlarm:y,removeAlarm:I,checkAlarm:C,trashId:T,location:E,protocol:o,Callbacks:x}}var a=function(){function t(e){var t=document.createElement("iframe");return t.setAttribute("style","display:none;width:0;height:0;position: absolute;top:0;left:0;border:0;"),t.setAttribute("height","0px"),t.setAttribute("width","0px"),t.setAttribute("frameborder","0"),e?t.setAttribute("src",e):document.documentElement.appendChild(t),t}function a(e){e&&e.parentNode.removeChild(e)}function n(n,r,p){var c,f;return p?void(e.location.href=n):void(r?(i?(c=t(),c.setAttribute("src",n)):(c=t(n),document.documentElement.appendChild(c)),f=setTimeout(function(){c&&a(c)},3e4),c.onload=c.onreadystatechange=function(){f&&clearTimeout(f),c&&a(c)}):(o=o||t(),o.setAttribute("src",n)))}var o,r=/Android/gi,i=r.test(navigator.platform)||r.test(navigator.userAgent);return o=null,{protocol:n}}();e.NewsAppClient=t(a.protocol)}(window);
